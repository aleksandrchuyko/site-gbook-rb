{"version":3,"file":"static/js/730.afbd16b5.chunk.js","mappings":"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","sources":["components/VisitorForm/VisitorForm.jsx","components/VisitorList/VisitorActions/VisitorActions.jsx","components/VisitorList/VisitorList.styled.js","components/VisitorList/VisitorList.jsx","components/Filter/Filter.jsx","components/VisitorEditor/VisitorEditor.jsx","components/Confirm/Confirm.jsx","hooks/useToggle.js","pages/VisitorsView.jsx"],"sourcesContent":["import { useState } from 'react';\n\nimport { Form, Button } from 'react-bootstrap';\nimport { Box } from 'components/Box';\n\nexport const VisitorForm = ({ onSubmit }) => {\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n\n  const handleChange = e => {\n    const currentInputName = e.currentTarget.name;\n    switch (currentInputName) {\n      case 'name':\n        setName(e.currentTarget.value);\n        break;\n      case 'surname':\n        setSurname(e.currentTarget.value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit({ name, surname });\n\n    setName('');\n    setSurname('');\n  };\n\n  return (\n    <Box>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-2\" controlId=\"formBasicName\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={handleChange}\n            pattern=\"^[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+(?:-[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+)*$\"\n            title=\"Name may contain only letters, apostrophe, dash and spaces.\"\n            autoComplete=\"off\"\n            required\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-2\" controlId=\"formBasicSurname\">\n          <Form.Label>Surname</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"surname\"\n            value={surname}\n            onChange={handleChange}\n            pattern=\"^[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+(?:-[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+)*$\"\n            autoComplete=\"off\"\n            required\n          />\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          Add\n        </Button>\n      </Form>\n    </Box>\n  );\n};\n","import { Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { useRemoveVisitorMutation } from 'redux/visitors/visitors-api';\n\nexport const VisitorActions = ({ id, openEditor, getVisitorById, handleDelete }) => {\n  const [{ isLoading: isDeleting }] = useRemoveVisitorMutation();\n  return (\n    <div>\n      <Button\n        variant=\"outline-secondary\"\n        size=\"sm\"\n        type=\"button\"\n        onClick={() => {\n          getVisitorById(id);\n          openEditor();\n        }}\n      >\n        Edit\n      </Button>\n      <Button\n        variant=\"outline-secondary\"\n        size=\"sm\"\n        type=\"button\"\n        disabled={isDeleting}\n        onClick={() => {\n          getVisitorById(id);\n          handleDelete();\n          //removeVisitor(id);\n        }}\n      >\n        Delete\n      </Button>\n    </div>\n  );\n};\n\nVisitorActions.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\nimport { Container } from 'react-bootstrap';\n\nexport const VisitorContainer = styled(Container)`\n  padding: 0;\n  & table {\n    width: 100%;\n  }\n`;\n","import { VisitorActions } from 'components/VisitorList/VisitorActions/VisitorActions';\nimport PropTypes from 'prop-types';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport { VisitorContainer } from './VisitorList.styled';\n\nexport const VisitorList = ({ visitors, openEditor, getVisitorById, handleDelete }) => {\n  const columns = [\n    {\n      dataField: 'id',\n      text: 'Visitor ID',\n      hidden: true,\n    },\n    {\n      dataField: 'name',\n      text: 'Name',\n      sort: true,\n    },\n    {\n      dataField: 'surname',\n      text: 'Surname',\n      sort: true,\n    },\n    {\n      dataField: 'createdAt',\n      text: 'Date of visit',\n      sort: true,\n    },\n    {\n      dataField: 'action',\n      text: 'Actions',\n    },\n  ];\n\n  const data = visitors.map(visitor => {\n    return {\n      id: visitor._id,\n      name: visitor.name,\n      surname: visitor.surname,\n      createdAt: new Date(visitor.createdAt).toLocaleString(),\n      action: (\n        <VisitorActions\n          id={visitor._id}\n          openEditor={openEditor}\n          getVisitorById={getVisitorById}\n          handleDelete={handleDelete}\n\n        ></VisitorActions>\n      ),\n    };\n  });\n\n  return (\n    <VisitorContainer>\n      <BootstrapTable keyField=\"id\" data={data} columns={columns} />\n    </VisitorContainer>\n  );\n};\n\nVisitorList.propTypes = {\n  visitors: PropTypes.arrayOf(\n    PropTypes.exact({\n      _id: PropTypes.string,\n      name: PropTypes.string.isRequired,\n      surname: PropTypes.string.isRequired,\n      createdAt: PropTypes.string.isRequired,\n      owner: PropTypes.exact({\n        _id: PropTypes.string.isRequired,\n        email: PropTypes.string.isRequired,\n      }),\n    })\n  ).isRequired,\n};\n","import { Box } from 'components/Box';\nimport PropTypes from 'prop-types';\nimport { Form } from 'react-bootstrap';\n\nexport const Filter = ({ name, onChange }) => {\n  return (\n    <Box>\n      <Form>\n        <Form.Group className=\"mb-2\" controlId=\"formBasicName\">\n          <Form.Label>Filter by Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"find\"\n            value={name}\n            onChange={onChange}\n          />\n        </Form.Group>\n      </Form>\n    </Box>\n  );\n};\n\nFilter.propTypes = {\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","import { useState } from 'react';\nimport { Card, CardGroup, Button, Form } from 'react-bootstrap';\n\nexport const VisitorEditor = ({ visitor, onSubmit, closeEditor }) => {\n  const [name, setName] = useState(visitor.name);\n  const [surname, setSurname] = useState(visitor.surname);\n\n  const handleChange = e => {\n    const currentInputName = e.currentTarget.name;\n    switch (currentInputName) {\n      case 'name':\n        setName(e.currentTarget.value);\n        break;\n      case 'surname':\n        setSurname(e.currentTarget.value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit({ id: visitor._id, name, surname });\n\n    setName('');\n    setSurname('');\n    closeEditor();\n  };\n  return (\n    <CardGroup\n      style={{\n        height: '100%',\n        width: '100%',\n        position: 'absolute',\n        zIndex: 1,\n        backgroundColor: '#fff',\n      }}\n    >\n      <Card style={{ padding: '20px' }}>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group className=\"mb-2\" controlId=\"formBasicName\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              onChange={handleChange}\n              pattern=\"^[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+(?:-[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+)*$\"\n              title=\"Name may contain only letters, apostrophe, dash and spaces.\"\n              autoComplete=\"off\"\n              required\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-2\" controlId=\"formBasicSurname\">\n            <Form.Label>Surname</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"surname\"\n              value={surname}\n              onChange={handleChange}\n              pattern=\"^[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+(?:-[a-zA-Zа-яА-Яа-їґЄ-ЯҐ]+)*$\"\n              autoComplete=\"off\"\n              required\n            />\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\">\n            Save\n          </Button>\n          <Button\n            variant=\"primary\"\n            style={{ marginLeft: '30px' }}\n            type=\"button\"\n            onClick={() => {\n              closeEditor();\n            }}\n          >\n            Cancel\n          </Button>\n        </Form>\n      </Card>\n    </CardGroup>\n  );\n};\n","import { Card, CardGroup, Button } from 'react-bootstrap';\n\nexport const Confirm = ({ onSubmit, closeConfirm }) => {\n  return (\n    <CardGroup\n      style={{\n        height: '200px',\n        width: '300px',\n        position: 'absolute',\n        zIndex: 1,\n        top: '20vh',\n        left: '35%',\n        backgroundColor: '#fff',\n      }}\n    >\n      <Card style={{ padding: '50px', border: '1px solid blue' }}>\n        <p style={{ margin: 'auto' }}>Are you sure?</p>\n        <div\n          style={{ padding: '20px', display: 'flex', justifyContent: 'center' }}\n        >\n          <Button\n            variant=\"secondary\"\n            type=\"button\"\n            onClick={() => {\n              onSubmit();\n              closeConfirm();\n            }}\n          >\n            Confirm\n          </Button>\n          <Button\n            variant=\"secondary\"\n            style={{ marginLeft: '30px' }}\n            type=\"button\"\n            onClick={() => {\n              closeConfirm();\n            }}\n          >\n            Cancel\n          </Button>\n        </div>\n      </Card>\n    </CardGroup>\n  );\n};\n","import { useState } from 'react';\n\nexport const useToggle = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const open = () => setIsOpen(true);\n  const close = () => setIsOpen(false);\n  const toggle = () => setIsOpen(isOpen => !isOpen);\n\n  return { isOpen, open, close, toggle };\n};","import { useState } from 'react';\n\nimport { VisitorForm } from 'components/VisitorForm/VisitorForm';\nimport { VisitorList } from 'components/VisitorList/VisitorList';\nimport { Filter } from 'components/Filter/Filter';\nimport { VisitorEditor } from 'components/VisitorEditor/VisitorEditor';\nimport { Confirm } from 'components/Confirm/Confirm';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getFilter, setFilter } from 'redux/visitorlistSlice';\n\nimport {\n  useAddVisitorMutation,\n  useGetAllVisitorsQuery,\n  useUpdateVisitorMutation,\n  useRemoveVisitorMutation,\n} from 'redux/visitors/visitors-api';\nimport { Card, CardGroup, Container } from 'react-bootstrap';\n\nimport { useToggle } from 'hooks/useToggle';\n\nconst VisitorsView = () => {\n  const dispatch = useDispatch();\n  const [visitor, setVisitor] = useState({});\n\n  const {\n    isOpen: isOpenEditor,\n    open: openEditor,\n    close: closeEditor,\n  } = useToggle();\n  const {\n    isOpen: isOpenConfirm,\n    open: openConfirm,\n    close: closeConfirm,\n  } = useToggle();\n\n  const filter = useSelector(getFilter);\n  const {\n    data: visitors,\n    isLoading,\n    isSuccess,\n  } = useGetAllVisitorsQuery('', {\n    refetchOnMountOrArgChange: true,\n  });\n\n  const [removeVisitor] = useRemoveVisitorMutation();\n\n  const [addVisitor] = useAddVisitorMutation();\n\n  const [updateVisitor] = useUpdateVisitorMutation();\n\n  //get visitors list by filter\n  const getFilteredVisitors = () => {\n    if (filter.trim()) {\n      return visitors.filter(visitor => {\n        return visitor.name.toLowerCase().includes(filter.toLowerCase());\n      });\n    } else return visitors;\n  };\n\n  const getVisitorById = id => {\n    setVisitor(visitors.find(visitor => visitor._id === id));\n  };\n\n  //redux actions\n  const handleAddVisitor = ({ name, surname, password }) => {\n    addVisitor({ name, surname, password });\n  };\n\n  const handleUpdateVisitor = ({ id, name, surname, password }) => {\n    updateVisitor({ visitorId: id, name, surname, password });\n  };\n\n  const handleDelete = () => {\n    openConfirm();\n  };\n\n  const handleRemoveVisitor = () => {\n    removeVisitor(visitor._id);\n  };\n\n  const updateFilter = e => {\n    dispatch(setFilter(e.target.value));\n  };\n  //------------------\n\n  const filteredVisitors = getFilteredVisitors();\n\n  return (\n    <Container\n      className=\"mt-2\"\n      style={{\n        position: 'relative',\n      }}\n    >\n      {isOpenEditor && (\n        <VisitorEditor\n          visitor={visitor}\n          closeEditor={closeEditor}\n          onSubmit={handleUpdateVisitor}\n        />\n      )}\n      {isOpenConfirm && (\n        <Confirm\n          visitor={visitor}\n          closeConfirm={closeConfirm}\n          onSubmit={handleRemoveVisitor}\n        />\n      )}\n\n      {!isLoading && isSuccess && (\n        <CardGroup>\n          <Card>\n            <Card.Body>\n              <Card.Title>New visitor</Card.Title>\n              <VisitorForm\n                visitors={visitors}\n                onSubmit={handleAddVisitor}\n              ></VisitorForm>\n            </Card.Body>\n          </Card>\n          <Card>\n            <Card.Body>\n              <Card.Title>Visitor list</Card.Title>\n              <Filter name={filter} onChange={updateFilter}></Filter>\n              <VisitorList\n                visitors={filteredVisitors}\n                openEditor={openEditor}\n                getVisitorById={getVisitorById}\n                handleDelete={handleDelete}\n              />\n            </Card.Body>\n          </Card>\n        </CardGroup>\n      )}\n    </Container>\n  );\n};\n\nexport default VisitorsView;\n"],"names":["VisitorForm","onSubmit","useState","name","setName","surname","setSurname","handleChange","e","currentTarget","value","Box","Form","preventDefault","className","controlId","type","onChange","pattern","title","autoComplete","required","Button","variant","VisitorActions","id","openEditor","getVisitorById","handleDelete","useRemoveVisitorMutation","isDeleting","isLoading","size","onClick","disabled","VisitorContainer","styled","Container","VisitorList","visitors","data","map","visitor","_id","createdAt","Date","toLocaleString","action","keyField","columns","dataField","text","hidden","sort","Filter","VisitorEditor","closeEditor","CardGroup","style","height","width","position","zIndex","backgroundColor","Card","padding","marginLeft","Confirm","closeConfirm","top","left","border","margin","display","justifyContent","useToggle","isOpen","setIsOpen","open","close","toggle","dispatch","useDispatch","setVisitor","isOpenEditor","isOpenConfirm","openConfirm","filter","useSelector","getFilter","useGetAllVisitorsQuery","refetchOnMountOrArgChange","isSuccess","removeVisitor","useAddVisitorMutation","addVisitor","useUpdateVisitorMutation","updateVisitor","filteredVisitors","trim","toLowerCase","includes","password","visitorId","setFilter","target","find"],"sourceRoot":""}